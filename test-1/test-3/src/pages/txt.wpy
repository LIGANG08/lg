<style>
  /*使屏幕变暗  */
.commodity_screen {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  /* background-color: #000; */
  opacity: 0.2;
  overflow: hidden;
  z-index: 1000;
  /* color: #fff; */
}
/*对话框 */
.commodity_attr_box {
  height: 300rpx;
  width: 100%;
  overflow: hidden;
  position: fixed;
  bottom: 0;
  left: 0;
  z-index: 2000;
  background: blueviolet;
  padding-top: 20rpx;
  opacity: 0.8;
}
image{
  margin-top: -20px;
  z-index: 9999;
}

</style>
<template>
  <view>
    <view class="commodity_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
    <view animation="{{animationData}}" class="commodity_attr_box" wx:if="{{showModalStatus}}">
      <image src="../images/head.jpeg" style="width:50px;height:50px"></image>
      <view class="box1">颜色:</view>
      <view class="box2">尺寸:</view>
      <view class="box3">数量:</view>
    </view>
    <view @tap="showModal" >显示</view>
    <!-- <vie @tap="hideModal">消失</view> -->
  </view>
</template>
 <script>
 import wepy from 'wepy'
export default class Index extends wepy.page {
   config = {
     navigationBarTitleText: 'kla'
   }
   data = {}
   methods = {
     showModal() {
    // 显示遮罩层
    // 实例化一个动画
       var animation = wepy.createAnimation({
         duration: 200, // 动画持续时间，单位ms，默认值 400
         timingFunction: 'linear', // 动画一直较为均匀
         delay: 0
       })
       this.animation = animation
       animation.translateY(300).step()
       this.setData({
         animationData: animation.export(),
         showModalStatus: true
       })
       setTimeout(function () {
         animation.translateY(0).step()
         this.setData({
           animationData: animation.export()
         })
       }.bind(this), 200)
     },
     hideModal() {
    // 隐藏遮罩层
       var animation = wepy.createAnimation({
         duration: 200,
         timingFunction: 'linear',
         delay: 0
       })
       this.animation = animation
       animation.translateY(300).step()
       this.setData({
         animationData: animation.export()
       })
       setTimeout(function () {
         animation.translateY(0).step()
         this.setData({
           animationData: animation.export(),
           showModalStatus: false
         })
       }.bind(this), 200)
     }
   }
}
 </script>
